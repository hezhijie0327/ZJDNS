# ZJDNS Server

ğŸš€ é«˜æ€§èƒ½é€’å½’ DNS è§£ææœåŠ¡å™¨ï¼ŒåŸºäº Go è¯­è¨€å¼€å‘ï¼Œæ”¯æŒ Redis ç¼“å­˜ã€DNSSEC éªŒè¯ã€ECSã€DoT/DoQ/DoH ç­‰é«˜çº§åŠŸèƒ½ã€‚

> âš ï¸ **è­¦å‘Š**
> æœ¬é¡¹ç›®ä¸º Vibe Coding äº§ç‰©ï¼Œä»£ç ç»“æ„å¤æ‚ä¸”æœªç»å……åˆ†ç”Ÿäº§ç¯å¢ƒéªŒè¯ï¼Œè¯·å‹¿ç”¨äºç”Ÿäº§ç¯å¢ƒã€‚

---

## âœ¨ åŠŸèƒ½ç‰¹ç‚¹

### ğŸ”§ æ ¸å¿ƒåŠŸèƒ½

- **é€’å½’ DNS è§£æ**ï¼šå®Œæ•´å®ç° DNS é€’å½’æŸ¥è¯¢ç®—æ³•ï¼Œä»æ ¹æœåŠ¡å™¨å¼€å§‹é€çº§è§£æ
- **æ™ºèƒ½æ ¹æœåŠ¡å™¨ç®¡ç†**ï¼šè‡ªåŠ¨ç®¡ç† 13 ä¸ª IPv4 å’Œ 13 ä¸ª IPv6 æ ¹æœåŠ¡å™¨ï¼ŒåŸºäºå®æ—¶ç½‘ç»œå»¶è¿Ÿæµ‹è¯•è¿›è¡ŒåŠ¨æ€æ’åºï¼Œä¼˜å…ˆé€‰æ‹©æœ€ä¼˜æœåŠ¡å™¨è¿›è¡ŒæŸ¥è¯¢
- **æ™ºèƒ½åè®®åå•†**ï¼šåŒæ—¶æ”¯æŒ UDP å’Œ TCP åè®®ï¼Œ**å½“ UDP å“åº”è¢«æˆªæ–­æˆ–è¶…è¿‡ç¼“å†²åŒºå¤§å°æ—¶ï¼Œè‡ªåŠ¨å›é€€åˆ° TCP åè®®**ï¼Œç¡®ä¿å¤§å“åº”æ•°æ®çš„å®Œæ•´ä¼ è¾“
- **CNAME é“¾è§£æ**ï¼šæ™ºèƒ½å¤„ç† CNAME è®°å½•é“¾ï¼Œé˜²æ­¢å¾ªç¯å¼•ç”¨ï¼Œæ”¯æŒå¤šçº§ CNAME è§£æ
- **å¹¶å‘æŸ¥è¯¢**ï¼šé«˜æ€§èƒ½å¹¶å‘å¤„ç†ï¼Œæ”¯æŒè¿æ¥æ± ç®¡ç†
- **DNS é‡å†™åŠŸèƒ½**ï¼šæ”¯æŒç²¾ç¡®åŒ¹é…çš„åŸŸåé‡å†™è§„åˆ™ï¼Œå¯å®ç°åŸŸåè¿‡æ»¤å’Œé‡å®šå‘ï¼›æ”¯æŒè‡ªå®šä¹‰å“åº”ç ï¼ˆå¦‚ NXDOMAINã€SERVFAIL ç­‰ï¼‰å’Œ DNS è®°å½•ï¼ˆå¦‚ Aã€AAAAã€CNAME ç­‰ï¼‰çš„è¿”å›
- **æ··åˆæ¨¡å¼**ï¼šå¯åŒæ—¶é…ç½®ä¸Šæ¸¸ DNS æœåŠ¡å™¨å’Œé€’å½’è§£æå™¨ï¼Œå®ç°çµæ´»çš„æŸ¥è¯¢ç­–ç•¥
- **ç½‘ç»œè´¨é‡æ„ŸçŸ¥æ’åº**ï¼šå¯¹è§£æç»“æœè¿›è¡Œç½‘ç»œå»¶è¿Ÿæµ‹è¯•å¹¶æŒ‰è´¨é‡æ’åºï¼Œä¼˜å…ˆè¿”å›ç½‘ç»œè´¨é‡æœ€ä½³çš„ç»“æœ

### ğŸ›¡ï¸ å®‰å…¨ä¸é˜²å¾¡ç‰¹æ€§

- **DNS åŠ«æŒé¢„é˜²**ï¼šä¸»åŠ¨æ£€æµ‹å¹¶æ™ºèƒ½åº”å¯¹æ¥è‡ªæ ¹æœåŠ¡å™¨çš„è¶Šæƒå“åº”ã€‚
  - **ç¬¬ä¸€æ­¥**ï¼šå½“æ£€æµ‹åˆ°æ ¹æœåŠ¡å™¨ç›´æ¥è¿”å›éæ ¹åŸŸåçš„æœ€ç»ˆè®°å½•æ—¶ï¼Œåˆ¤å®šä¸º DNS åŠ«æŒã€‚
  - **ç¬¬äºŒæ­¥**ï¼š**è‡ªåŠ¨åˆ‡æ¢åˆ° TCP åè®®è¿›è¡Œé‡è¯•**ï¼Œä»¥ç»•è¿‡å¸¸è§çš„ UDP æ±¡æŸ“ã€‚
  - **ç¬¬ä¸‰æ­¥**ï¼šå¦‚æœ TCP æŸ¥è¯¢ç»“æœ**ä¾ç„¶**è¢«åŠ«æŒï¼Œåˆ™å½»åº•æ‹’ç»è¯¥å“åº”ï¼Œä»æºå¤´ä¸Šé˜²æ­¢æ±¡æŸ“ã€‚
- **DNSSEC éªŒè¯**ï¼šå®Œæ•´çš„ DNSSEC æ”¯æŒå’ŒéªŒè¯ï¼Œå¯è®¾ç½®æœåŠ¡å™¨å¼ºåˆ¶éªŒè¯ï¼Œæ”¯æŒ AD æ ‡å¿—ä¼ é€’
- **ECS æ”¯æŒ**ï¼šEDNS Client Subnetï¼Œæä¾›åœ°ç†ä½ç½®æ„ŸçŸ¥çš„è§£æï¼Œæ”¯æŒ `auto`ã€`auto_v4`ã€`auto_v6` è‡ªåŠ¨æ£€æµ‹æˆ–æ‰‹åŠ¨ CIDR é…ç½®
- **é€’å½’æ·±åº¦ä¿æŠ¤**ï¼šé˜²æ­¢æ¶æ„é€’å½’æŸ¥è¯¢æ”»å‡»ï¼Œå¯é…ç½®æœ€å¤§é€’å½’æ·±åº¦

### ğŸ” å®‰å…¨ä¼ è¾“åè®®

- **DNS over TLS (DoT)**ï¼šæ”¯æŒæ ‡å‡†çš„ DNS over TLS åè®® (RFC 7818)ï¼Œåœ¨ç«¯å£ `853` ä¸Šæä¾›åŠ å¯†çš„ DNS æŸ¥è¯¢ï¼Œé˜²æ­¢ä¸­é—´äººçªƒå¬å’Œç¯¡æ”¹ã€‚
- **DNS over QUIC (DoQ)**ï¼šæ”¯æŒå‰æ²¿çš„ DNS over QUIC åè®®ï¼Œåˆ©ç”¨ QUIC åè®®çš„ 0-RTTã€å¤šè·¯å¤ç”¨å’Œè¿æ¥è¿ç§»ç­‰ç‰¹æ€§ï¼Œæä¾›æ›´ä½å»¶è¿Ÿå’Œæ›´é«˜å¯é æ€§çš„åŠ å¯† DNS æœåŠ¡ã€‚
- **DNS over HTTPS (DoH/DoH3)**ï¼šåŒæ—¶æ”¯æŒ HTTP/2 å’Œ HTTP/3 çš„ DoH æœåŠ¡ï¼Œåœ¨ç«¯å£ `443` ä¸Šæä¾›åŸºäº HTTPS çš„ DNS æŸ¥è¯¢ã€‚
- **ç»Ÿä¸€è¯ä¹¦ç®¡ç†**ï¼šDoTã€DoQ å’Œ DoH å…±äº«åŒä¸€å¥— TLS è¯ä¹¦é…ç½®ï¼Œç®€åŒ–éƒ¨ç½²ã€‚
- **è¿æ¥å¤ç”¨ä¸ä¿æ´»**ï¼šä¸ºå®‰å…¨è¿æ¥å®ç°è¿æ¥å¤ç”¨å’Œ TCP Keep-Aliveï¼Œæå‡æ€§èƒ½å’Œç¨³å®šæ€§ã€‚

### ğŸ“¦ DNS Padding

- **RFC 7830 æ ‡å‡†æ”¯æŒ**ï¼šå®ç° DNS Padding åŠŸèƒ½ï¼Œé€šè¿‡åœ¨ EDNS0 ä¸­æ·»åŠ å¡«å……å­—èŠ‚ï¼Œä½¿ DNS å“åº”æ•°æ®åŒ…å¤§å°æ ‡å‡†åŒ–ï¼Œæœ‰æ•ˆå¯¹æŠ—åŸºäºæµé‡å¤§å°çš„æŒ‡çº¹è¯†åˆ«å’Œå®¡æŸ¥ã€‚
- **æ™ºèƒ½å—å¤§å°å¡«å……**ï¼šå¡«å……è‡³æ¨èçš„ 468 å­—èŠ‚ï¼Œå¹³è¡¡éšç§ä¿æŠ¤å’Œå¸¦å®½æ•ˆç‡ã€‚
- **æŒ‰éœ€å¯ç”¨**ï¼šå¯é€šè¿‡é…ç½®æ–‡ä»¶çµæ´»å¼€å¯æˆ–å…³é—­æ­¤åŠŸèƒ½ï¼Œ**ä»…å¯¹å®‰å…¨è¿æ¥ï¼ˆDoT/DoQ/DoHï¼‰ç”Ÿæ•ˆ**ã€‚

### ğŸ“ DDR (Discovery of Designated Resolvers) åŠŸèƒ½

- **è‡ªåŠ¨å‘ç°æ”¯æŒ**ï¼šæ”¯æŒ RFC [9461](https://www.rfc-editor.org/rfc/rfc9461.html)/[9462](https://www.rfc-editor.org/rfc/rfc9462.html) DNS SVCB è®°å½•ï¼Œç”¨äºè‡ªåŠ¨å‘ç°å®‰å…¨ DNS æœåŠ¡å™¨
- **SVCB è®°å½•ç”Ÿæˆ**ï¼šè‡ªåŠ¨ç”Ÿæˆ DoTã€DoHã€DoQ çš„ SVCB è®°å½•ï¼Œæ”¯æŒ IPv4 å’Œ IPv6 æç¤º
- **çµæ´»é…ç½®**ï¼šé€šè¿‡é…ç½®æ–‡ä»¶æŒ‡å®š DDR åŸŸåå’Œå¯¹åº”çš„ IP åœ°å€ï¼Œæ”¯æŒ IPv4 å’Œ IPv6 åŒæ ˆé…ç½®
- **æ™ºèƒ½å“åº”**ï¼šå½“æ”¶åˆ° `_dns.resolver.arpa`ã€`_dns.dns.example.org`ã€`_non_53_port._dns.dns.example.org` çš„ SVCB æŸ¥è¯¢æ—¶ï¼Œè‡ªåŠ¨è¿”å›é…ç½®çš„åŠ å¯† DNS æœåŠ¡ä¿¡æ¯

### ğŸš€ ç½‘ç»œè´¨é‡æµ‹è¯• (SpeedTest)

- **å¤šåè®®æ”¯æŒ**ï¼šæ”¯æŒ ICMPã€TCP å’Œ UDP ç­‰å¤šç§åè®®è¿›è¡Œç½‘ç»œè´¨é‡æµ‹è¯•
- **çµæ´»é…ç½®**ï¼šå¯é…ç½®ä¸åŒçš„æµ‹è¯•ç«¯å£å’Œè¶…æ—¶æ—¶é—´ï¼Œé€‚åº”ä¸åŒç½‘ç»œç¯å¢ƒ
- **æ™ºèƒ½æ’åº**ï¼šæ ¹æ®æµ‹è¯•ç»“æœå¯¹ DNS è§£æç»“æœè¿›è¡Œå»¶è¿Ÿæ’åºï¼Œä¼˜å…ˆè¿”å›ç½‘ç»œè´¨é‡æœ€ä½³çš„ç»“æœ
- **ç¼“å­˜æœºåˆ¶**ï¼šå†…ç½®æµ‹è¯•ç»“æœç¼“å­˜ï¼Œé¿å…é‡å¤æµ‹è¯•ï¼Œæé«˜å“åº”é€Ÿåº¦
- **å¹¶å‘å¤„ç†**ï¼šæ”¯æŒå¹¶å‘æµ‹è¯•å¤šä¸ª IP åœ°å€ï¼Œæé«˜æµ‹è¯•æ•ˆç‡

### ğŸ’¾ ç¼“å­˜ç³»ç»Ÿ

- **åŒæ¨¡å¼è¿è¡Œ**ï¼š
  - **æ— ç¼“å­˜æ¨¡å¼**ï¼šé€‚åˆæµ‹è¯•ç¯å¢ƒï¼Œé›¶é…ç½®å¯åŠ¨ï¼Œçº¯é€’å½’è§£æ
  - **Redis ç¼“å­˜æ¨¡å¼**ï¼šç”Ÿäº§ç¯å¢ƒæ¨èï¼Œæ”¯æŒåˆ†å¸ƒå¼éƒ¨ç½²ï¼Œæ•°æ®æŒä¹…åŒ–
- **æ™ºèƒ½ TTL ç®¡ç†**ï¼šçµæ´»çš„ TTL ç­–ç•¥ï¼Œæ”¯æŒæœ€å°/æœ€å¤§ TTL é™åˆ¶
- **è¿‡æœŸç¼“å­˜æœåŠ¡ (Serve Stale)**ï¼šåœ¨ä¸Šæ¸¸æœåŠ¡å™¨ä¸å¯ç”¨æ—¶ï¼Œæä¾›è¿‡æœŸç¼“å­˜æœåŠ¡ï¼Œæå¤§æé«˜ç³»ç»Ÿå¯ç”¨æ€§
- **é¢„å–æœºåˆ¶**ï¼šåå°è‡ªåŠ¨åˆ·æ–°å³å°†è¿‡æœŸçš„ç¼“å­˜ï¼Œå‡å°‘ç”¨æˆ·ç­‰å¾…æ—¶é—´
- **ECS æ„ŸçŸ¥ç¼“å­˜**ï¼šåŸºäºå®¢æˆ·ç«¯åœ°ç†ä½ç½®ï¼ˆEDNS Client Subnetï¼‰çš„ç¼“å­˜åˆ†åŒºï¼Œæä¾›ç²¾å‡†çš„æœ¬åœ°åŒ–è§£æ
- **è®¿é—®èŠ‚æµ**ï¼šå¯¹ç¼“å­˜çš„è®¿é—®æ—¶é—´æ›´æ–°æ“ä½œè¿›è¡ŒèŠ‚æµï¼Œå‡è½» Redis å‹åŠ›

### ğŸ•µï¸ è¯·æ±‚è¿½è¸ªç³»ç»Ÿ

- **å…¨é“¾è·¯è¿½è¸ª**ï¼šä¸ºæ¯ä¸ª DNS è¯·æ±‚ç”Ÿæˆå”¯ä¸€ IDï¼Œè¯¦ç»†è®°å½•å¤„ç†è¿‡ç¨‹ä¸­çš„æ¯ä¸€æ­¥æ“ä½œå’Œè€—æ—¶ã€‚
- **æ™ºèƒ½æ—¥å¿—**ï¼šåœ¨ `DEBUG` çº§åˆ«ä¸‹ï¼Œè¾“å‡ºå¸¦æ—¶é—´æˆ³çš„è¯·æ±‚å¤„ç†æ­¥éª¤ï¼Œæå¤§ç®€åŒ–è°ƒè¯•å’Œæ€§èƒ½åˆ†æã€‚
- **æ‘˜è¦æŠ¥å‘Š**ï¼šåœ¨ `INFO` çº§åˆ«ä¸‹ï¼Œè¾“å‡ºè¯·æ±‚å¤„ç†æ‘˜è¦ï¼ŒåŒ…æ‹¬ç¼“å­˜å‘½ä¸­çŠ¶æ€ã€æ€»è€—æ—¶ã€ä½¿ç”¨çš„ä¸Šæ¸¸æœåŠ¡å™¨ç­‰å…³é”®ä¿¡æ¯ã€‚

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

ZJDNS é‡‡ç”¨æ¨¡å—åŒ–ã€åˆ†å±‚è®¾è®¡ï¼Œæ ¸å¿ƒç»„ä»¶èŒè´£æ¸…æ™°ã€æ¾è€¦åˆï¼Œæ”¯æŒé«˜å¹¶å‘ä¸å¤šç§å®‰å…¨åè®®ã€‚æ•´ä½“æ¶æ„å¦‚ä¸‹ï¼š

```mermaid
graph TD
    A[DNS Client] -->|UDP/TCP/DoT/DoQ/DoH| B[DNSServer<br><i>æœåŠ¡å™¨æ ¸å¿ƒ</i>]

    subgraph CoreComponents ["æ ¸å¿ƒç»„ä»¶å±‚"]
        B --> C[ConfigManager<br><i>é…ç½®ç®¡ç†å™¨</i>]
        B --> D[ConnectionPool<br><i>è¿æ¥æ± </i>]
        B --> E[CacheManager<br><i>ç¼“å­˜ç®¡ç†å™¨</i>]
        B --> F[QueryClient<br><i>æŸ¥è¯¢å®¢æˆ·ç«¯</i>]
        B --> G[UpstreamManager<br><i>ä¸Šæ¸¸ç®¡ç†å™¨</i>]
    end

    subgraph ProtocolHandlers ["åè®®å¤„ç†å™¨"]
        B --> H[UDPServer<br><i>UDPæœåŠ¡å™¨</i>]
        B --> I[TCPServer<br><i>TCPæœåŠ¡å™¨</i>]
        B --> J[DoTHandler<br><i>DoTå¤„ç†å™¨</i>]
        B --> K[DoQHandler<br><i>DoQå¤„ç†å™¨</i>]
        B --> L[DoHHandler<br><i>DoHå¤„ç†å™¨</i>]

        H --> F
        I --> F
        J --> F
        K --> F
        L --> F
    end

    subgraph SecurityEnhancement ["å®‰å…¨ä¸å¢å¼ºæ¨¡å—"]
        B --> M[EDNSManager<br><i>EDNSç®¡ç†å™¨</i>]
        B --> N[DNSSECValidator<br><i>DNSSECéªŒè¯å™¨</i>]
        B --> O[HijackPrevention<br><i>åŠ«æŒé˜²æŠ¤</i>]
        B --> P[IPFilter<br><i>IPè¿‡æ»¤å™¨</i>]
        B --> Q[DNSRewriter<br><i>DNSé‡å†™å™¨</i>]
        B --> R[SpeedTester<br><i>ç½‘ç»œè´¨é‡æµ‹è¯•</i>]
    end

    subgraph CacheSystem ["ç¼“å­˜ç³»ç»Ÿ"]
        E -->|ç”Ÿäº§ç¯å¢ƒ| S[RedisCache<br><i>Redisç¼“å­˜</i>]
        E -->|æµ‹è¯•ç¯å¢ƒ| T[NullCache<br><i>ç©ºç¼“å­˜</i>]

        S --> U[åˆ·æ–°é˜Ÿåˆ—<br><i>RefreshQueue</i>]
        S --> V[é¢„å–æœºåˆ¶<br><i>é¢„å–å³å°†è¿‡æœŸ</i>]
        S --> W[è¿‡æœŸç¼“å­˜æœåŠ¡<br><i>Serve Stale</i>]
    end

    subgraph SecurityFeatures ["å®‰å…¨ç‰¹æ€§"]
        M --> X[ECSæ”¯æŒ<br><i>å®¢æˆ·ç«¯å­ç½‘</i>]
        M --> Y[Padding<br><i>æµé‡å¡«å……</i>]

        N --> Z[DNSSECéªŒè¯<br><i>ADæ ‡å¿—ä¼ é€’</i>]
        O --> AA[TCPå›é€€<br><i>ç»•è¿‡UDPæ±¡æŸ“</i>]

        Q --> BB[åŸŸåé‡å†™<br><i>è¿‡æ»¤/é‡å®šå‘</i>]
    end

    subgraph SupportInfrastructure ["æ”¯æ’‘åŸºç¡€è®¾æ–½"]
        B --> CC[RequestTracker<br><i>è¯·æ±‚è¿½è¸ªå™¨</i>]
        B --> DD[ResourceManager<br><i>èµ„æºç®¡ç†å™¨</i>]
        B --> EE[TaskManager<br><i>ä»»åŠ¡ç®¡ç†å™¨</i>]
        B --> FF[TLSManager<br><i>TLSè¯ä¹¦ç®¡ç†</i>]

        CC --> GG[å”¯ä¸€ID<br><i>è¯·æ±‚æ ‡è¯†</i>]
        DD --> HH[å¯¹è±¡æ± <br><i>sync.Pool</i>]
        EE --> II[Goroutineæ± <br><i>å¹¶å‘ç®¡ç†</i>]
        FF --> JJ[è¯ä¹¦åŠ è½½<br><i>å®‰å…¨åè®®å…±äº«</i>]
    end

    subgraph DDRSystem ["DDRç³»ç»Ÿ"]
        B --> KK[DDRHandler<br><i>DDRå¤„ç†å™¨</i>]
        KK --> LL[SVCBè®°å½•ç”Ÿæˆ<br><i>è‡ªåŠ¨å‘ç°</i>]
        KK --> MM[DoT/DoQ/DoH<br><i>æœåŠ¡ä¿¡æ¯</i>]
    end

    subgraph RootServerManagement ["æ ¹æœåŠ¡å™¨ç®¡ç†"]
        F --> NN[RootServerManager<br><i>æ ¹æœåŠ¡å™¨ç®¡ç†å™¨</i>]
        NN --> OO[IPv4æ ¹æœåŠ¡å™¨<br><i>13ä¸ªæ ¹æœåŠ¡å™¨</i>]
        NN --> PP[IPv6æ ¹æœåŠ¡å™¨<br><i>13ä¸ªæ ¹æœåŠ¡å™¨</i>]
        NN --> QQ[å»¶è¿Ÿæ„ŸçŸ¥æ’åº<br><i>ç½‘ç»œè´¨é‡æµ‹è¯•</i>]

        QQ --> RR[æœ€ä¼˜æœåŠ¡å™¨é€‰æ‹©<br><i>åŠ¨æ€ä¼˜å…ˆçº§</i>]
        NN --> SS[å‘¨æœŸæ€§é‡æ’åº<br><i>15åˆ†é’Ÿé—´éš”</i>]
    end

    subgraph UpstreamSystem ["ä¸Šæ¸¸ç³»ç»Ÿ"]
        G --> TT[ä¸Šæ¸¸æœåŠ¡å™¨é…ç½®<br><i>å¤šä¸ªä¸Šæ¸¸</i>]
        G --> UU[IPç­–ç•¥è¿‡æ»¤<br><i>å®‰å…¨è®¿é—®</i>]
        G --> VV[æ··åˆæ¨¡å¼<br><i>é€’å½’+è½¬å‘</i>]
    end

    subgraph GlobalServices ["å…¨å±€æœåŠ¡"]
        WW[GlobalLog<br><i>å…¨å±€æ—¥å¿—</i>]
        XX[GlobalConfig<br><i>å…¨å±€é…ç½®</i>]

        WW -.-> B
        XX -.-> C
    end

    classDef core fill:#e6f3ff,stroke:#333;
    classDef protocol fill:#e6ffe6,stroke:#333;
    classDef security fill:#ffe6e6,stroke:#333;
    classDef cache fill:#fff0e6,stroke:#333;
    classDef support fill:#e6ffff,stroke:#333;
    classDef ddr fill:#f0e6ff,stroke:#333;
    classDef rootserver fill:#f0fff0,stroke:#333;
    classDef upstream fill:#ffe6f0,stroke:#333;
    classDef global fill:#ffe6ff,stroke:#333;

    class B core;
    class CoreComponents,ProtocolHandlers protocol;
    class SecurityEnhancement,SecurityFeatures security;
    class CacheSystem cache;
    class SupportInfrastructure support;
    class DDRSystem ddr;
    class RootServerManagement rootserver;
    class UpstreamSystem upstream;
    class GlobalServices global;
```

---

## ğŸ“‹ ä½¿ç”¨ç¤ºä¾‹

### ç”Ÿæˆç¤ºä¾‹é…ç½®æ–‡ä»¶

```bash
./zjdns -generate-config > config.json
```

### å¯åŠ¨æœåŠ¡å™¨

```bash
# ä½¿ç”¨é»˜è®¤é…ç½®ï¼ˆçº¯é€’å½’æ¨¡å¼ï¼Œæ— ç¼“å­˜ï¼‰
./zjdns

# ä½¿ç”¨é…ç½®æ–‡ä»¶å¯åŠ¨ï¼ˆæ¨èï¼‰
./zjdns -config config.json
```

---

## ğŸ“ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ï¼Œè¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

---

## ğŸ› ï¸ å¼€å‘å·¥å…·

### golangci-lint

åœ¨æäº¤ä»£ç å‰ï¼Œè¯·ä½¿ç”¨ [golangci-lint](https://golangci-lint.run/) è¿›è¡Œä»£ç æ£€æŸ¥ã€‚

å®‰è£… golangci-lintï¼š

```bash
brew install golangci-lint
```

è¿è¡Œæ£€æŸ¥ & ä»£ç æ ¼å¼åŒ–ï¼š

```bash
golangci-lint run & golangci-lint fmt
```

æäº¤ä»£ç å‰è¯·ç¡®ä¿ golangci-lint æ£€æŸ¥é€šè¿‡ï¼Œä»¥ä¿è¯ä»£ç è´¨é‡å’Œä¸€è‡´æ€§ã€‚

---

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®ï¼š

- [miekg/dns](https://github.com/miekg/dns) - Go DNS åº“
- [redis/go-redis](https://github.com/redis/go-redis) - Redis Go å®¢æˆ·ç«¯
- [quic-go/quic-go](https://github.com/quic-go/quic-go) - QUIC åè®®å®ç°
- [hypermodeinc/ristretto](https://github.com/hypermodeinc/ristretto) - é«˜æ€§èƒ½ Go ç¼“å­˜
