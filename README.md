# ZJDNS Server

🚀 高性能递归DNS解析服务器，基于Go语言开发，支持Redis缓存、DNSSEC验证、ECS等高级功能。

## ✨ 功能特点

### 🔧 核心功能
- **递归DNS解析**：完整实现DNS递归查询算法
- **双协议支持**：同时支持UDP和TCP协议
- **CNAME链解析**：智能处理CNAME记录链，防止循环引用
- **并发查询**：高性能并发处理，支持连接池管理

### 💾 缓存系统
- **双模式运行**：
  - 无缓存模式：适合测试环境，零配置启动
  - Redis缓存模式：生产环境推荐，支持分布式部署
- **智能TTL管理**：灵活的TTL策略，支持最小/最大TTL限制
- **过期缓存服务**：Serve Stale功能，提高可用性
- **预取机制**：后台自动刷新即将过期的缓存

### 🔒 安全特性
- **DNSSEC验证**：完整的DNSSEC支持和验证
- **ECS支持**：EDNS Client Subnet，提供地理位置感知的解析
- **递归深度保护**：防止恶意递归查询攻击

### 📊 监控统计
- **实时统计**：查询量、缓存命中率、错误率等
- **性能指标**：平均响应时间、QPS统计
- **彩色日志**：支持emoji和颜色的结构化日志输出

## 🏗️ 系统架构

```
┌─────────────────┐    ┌──────────────────┐    ┌─────────────────┐
│   DNS Client    │───▶│   ZJDNS Server   │───▶│  Upstream DNS   │
└─────────────────┘    │                  │    │   (Root/Auth)   │
                       │  ┌─────────────┐  │    └─────────────────┘
                       │  │   Cache     │  │
                       │  │  (Redis)    │  │    ┌─────────────────┐
                       │  └─────────────┘  │───▶│   DNSSEC Val    │
                       └──────────────────┘    └─────────────────┘
```

## 📝 许可证

本项目采用 MIT 许可证，详见 [LICENSE](LICENSE) 文件。

## 🙏 致谢

感谢以下开源项目：
- [miekg/dns](https://github.com/miekg/dns) - Go DNS库
- [go-redis/redis](https://github.com/go-redis/redis) - Redis Go客户端
